<!-- app/views/profiles/show.html.erb -->

<h1>User Profile</h1>

<% if @profile.present? %>
  <% if @profile.avatar.file.present? %>
    <%= image_tag @profile.avatar.url, class: 'img-thumbnail', alt: 'Current Avatar' %>
  <% end %>
  <p><strong>Name:</strong> <%= @profile.full_name %></p>
  <p><strong>Bio:</strong> <%= @profile.bio %></p>
  <p><strong>Location:</strong> <%= @profile.location %></p>
  <p><strong>Twitter:</strong> <%= @profile.twitter %></p>
  <p><strong>Facebook:</strong> <%= @profile.facebook %></p>
  <p><strong>Instagram:</strong> <%= @profile.instagram %></p>
  <p><strong>Website:</strong> <%= @profile.website %></p>
  <p><strong>Occupation:</strong> <%= @profile.occupation %></p>

  <!-- TODO: Displaying the user's avatar if attached -->
  <%# image_tag @profile.avatar if @profile.avatar.attached? %>

  <% if @is_seller %>
    <p><strong>Seller Rating (out of 5):</strong>
      <% if @profile.seller_rating && @profile.seller_rating > 0 %>
        <%= @profile.seller_rating %>
      <% else %>
        <%= "No rating yet" %>
      <% end %>
    </p>
  <% end %>


  <!-- Links -->
  <% if @is_current_user %>
    <%= link_to "Edit Profile", edit_profile_path(@profile), method: :get, class: "btn btn-danger" %>
    <%= link_to "Delete Profile", delete_profile_path(@profile), method: :get, class: "btn btn-danger" %>
  <% end %>
  <% if @show_review_link %>
    <%= link_to "Leave A Review", review_path(profile_id: @profile), method: :get, class: "btn btn-secondary" %>
  <% end %>
<% else %>
  <p>User profile not found.</p>
<% end %>
